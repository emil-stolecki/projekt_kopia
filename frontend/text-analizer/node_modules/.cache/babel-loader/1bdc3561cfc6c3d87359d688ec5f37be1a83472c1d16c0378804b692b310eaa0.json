{"ast":null,"code":"var _jsxFileName = \"/home/emil/github/projektDyplomowy/projekt_kopia/frontend/text-analizer/src/pages/Database.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport { Server } from '../index';\nimport '../css/database.css';\nimport labels from '../labels.json';\nimport RecordTile from '../components/RecordTile';\nimport { type } from '@testing-library/user-event/dist/type';\nimport { CSVLink } from \"react-csv\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Database() {\n  _s();\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [minNumber, setMinNumber] = useState(\"\");\n  const [maxNumber, setMaxNumber] = useState(\"\");\n  const [minLength, setMinLength] = useState(\"\");\n  const [maxLength, setMaxLength] = useState(\"\");\n  const [language, setLanguage] = useState(null);\n  const [correction, setCorrection] = useState(null);\n  const [comment, setComment] = useState(null);\n  const [words, setWords] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n  const [data, setData] = useState([]);\n  const server = useContext(Server);\n  const [checked, setChecked] = useState({\n    date: false,\n    number: false,\n    length: false,\n    language: false,\n    correction: false,\n    comment: false,\n    words: false,\n    query: false\n  });\n  const [page, setPage] = useState(0);\n  const [recordCount, setRecordCount] = useState(0);\n  const [filter, setFilter] = useState({});\n  const records_per_page = 10;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.post(server + 'database-filter', {\n          params: {\n            page: 0,\n            filter: {},\n            limit: records_per_page\n          }\n        });\n        setData(response.data);\n        setRecordCount(response.data.count);\n      } catch (error) {}\n    };\n    fetchData();\n  }, []);\n  async function search() {\n    setPage(0);\n    if (checked.query) {\n      try {\n        const response = await axios.post(server + 'database-query', {\n          params: {\n            page: 0,\n            query: query,\n            limit: records_per_page\n          }\n        });\n        setData(response.data);\n        setRecordCount(response.data.count);\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      const f = {};\n      if (checked.date) {\n        f.startDate = startDate;\n        f.endDate = endDate;\n      }\n      if (checked.number) {\n        f.minNumber = minNumber;\n        f.maxNumber = maxNumber;\n      }\n      if (checked.length) {\n        f.minLength = minLength;\n        f.maxLength = maxLength;\n      }\n      if (checked.language) {\n        f.language = language;\n      }\n      if (checked.correction) {\n        f.correction = correction;\n      }\n      if (checked.comment) {\n        f.comment = comment;\n      }\n      if (checked.words) {\n        if (words != \"\") {\n          const regex = /\"[^\"]*\"|[^\",;\\s]+/g;\n          const result = words.match(regex);\n          f.words = result.map(x => x[0] === '\"' ? x.slice(1, x.length - 1) : x);\n        }\n      }\n      setFilter(f);\n      try {\n        const response = await axios.post(server + 'database-filter', {\n          params: {\n            page: 0,\n            filter: f,\n            limit: records_per_page\n          }\n        });\n        setData(response.data);\n        setRecordCount(response.data.count);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n  async function previous_page() {\n    if (page !== 0) {\n      try {\n        if (checked.query) {\n          const response = await axios.post(server + \"database-query\", {\n            params: {\n              page: page - 1,\n              query: query,\n              limit: records_per_page\n            }\n          });\n          setData(response.data);\n        } else {\n          const response = await axios.post(server + \"database-filter\", {\n            params: {\n              page: page - 1,\n              filter: filter,\n              limit: records_per_page\n            }\n          });\n          setData(response.data);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n      setPage(page - 1);\n    }\n  }\n  async function next_page() {\n    if (recordCount > records_per_page * (page + 1)) {\n      try {\n        if (checked.query) {\n          const response = await axios.post(server + \"database-query\", {\n            params: {\n              page: page + 1,\n              query: query,\n              limit: records_per_page\n            }\n          });\n          setData(response.data);\n        } else {\n          const response = await axios.post(server + \"database-filter\", {\n            params: {\n              page: page + 1,\n              filter: filter,\n              limit: records_per_page\n            }\n          });\n          setData(response.data);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n      setPage(page + 1);\n    }\n  }\n  function handleCheckbox(e) {\n    let ch = checked;\n    console.log(e.target.id);\n    if (e.target.id == 'query' && ch['query'] == false) {\n      console.log(\"here1\");\n      const entries = Object.keys(ch).map(key => [key, false]);\n      ch = Object.fromEntries(entries);\n      ch['query'] = true;\n      const boxes = document.getElementsByClassName('checkbox');\n      for (let box of boxes) {\n        box.checked = false;\n      }\n    } else if (e.target.id != 'query' && ch['query'] == true) {\n      console.log(\"here2\");\n      ch['query'] = false;\n      ch[e.target.id] = e.target.checked;\n      document.getElementById('query').checked = false;\n    } else {\n      ch[e.target.id] = e.target.checked;\n    }\n    setChecked(ch);\n  }\n  async function extract_to_json() {\n    try {\n      const jsonString = `data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(data.data))}`;\n      const link = document.createElement(\"a\");\n      link.href = jsonString;\n      link.download = \"data.json\";\n      link.click();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  async function extract_to_csv() {\n    try {\n      let response = \"\";\n      if (checked.query) {\n        response = await axios.post(server + \"extract-csv\", {\n          params: {\n            page: page + 1,\n            query: query,\n            limit: records_per_page\n          }\n        });\n      } else {\n        response = await axios.post(server + \"extract-csv\", {\n          params: {\n            page: page + 1,\n            filter: filter,\n            limit: records_per_page\n          }\n        });\n      }\n      const file = new Blob([response.data], {\n        type: 'text/plain'\n      });\n      console.log(file.text());\n      const link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(file);\n      link.download = \"data.csv\";\n\n      //link.click();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  function display_records() {\n    if (data.data) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: data.data.map(x => /*#__PURE__*/_jsxDEV(RecordTile, {\n          date: x.date.$date,\n          number: x.references.length,\n          length: x.references[0].text.length,\n          language: x.references[0].results.language[0][0],\n          hasCorrection: x.opinion != \"\" ? 'true' : 'false',\n          hasComment: x.opinion != \"\" ? 'true' : 'false'\n        }, x._id.$oid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 41\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"date\",\n          onChange: handleCheckbox,\n          className: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Date: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 109\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"from:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"from-date\",\n            value: startDate,\n            onChange: e => {\n              setStartDate(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"to:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"to-date\",\n            value: endDate,\n            onChange: e => {\n              setEndDate(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"number\",\n          onChange: handleCheckbox,\n          className: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Num/record: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 111\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"from:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"min-number\",\n            style: {\n              width: '6vw'\n            },\n            min: 1,\n            value: minNumber,\n            onChange: e => {\n              setMinNumber(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"to:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"max-number\",\n            style: {\n              width: '6vw'\n            },\n            min: 1,\n            value: maxNumber,\n            onChange: e => {\n              setMaxNumber(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"length\",\n          onChange: handleCheckbox,\n          className: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Length: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 111\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"from:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"min-length\",\n            style: {\n              width: '6vw'\n            },\n            min: 1,\n            value: minLength,\n            onChange: e => {\n              setMinLength(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"to:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"max-length\",\n            style: {\n              width: '6vw'\n            },\n            min: 1,\n            value: maxLength,\n            onChange: e => {\n              setMaxLength(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"language\",\n          onChange: handleCheckbox,\n          className: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Language: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 113\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"select-language\",\n            onChange: e => setLanguage(e.target.value),\n            children: labels.language.map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: x,\n              children: x\n            }, x, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"correction\",\n          onChange: handleCheckbox,\n          className: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Correction: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 116\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"has correnction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            id: \"correction-provided\",\n            name: \"correction\",\n            onChange: e => setCorrection(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"no correnction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            id: \"correction-not-provided\",\n            name: \"correction\",\n            onChange: e => setCorrection(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"comment\",\n          onChange: handleCheckbox,\n          className: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Comment: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 112\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"has comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            id: \"comment-provided\",\n            name: \"comment\",\n            onChange: e => setComment(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"no comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            id: \"comment-not-provided\",\n            name: \"comment\",\n            onChange: e => setComment(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"words\",\n          onChange: handleCheckbox,\n          className: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Key Words: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 109\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            style: {\n              maxWidth: '12vw'\n            },\n            onChange: e => setWords(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-query\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"query\",\n          onChange: handleCheckbox,\n          style: {\n            float: 'left'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            float: 'left'\n          },\n          children: \"Query: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 114\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: query,\n          onChange: e => setQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '30vw',\n          height: '8vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-button\",\n          onClick: previous_page,\n          children: \"Previous page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-button\",\n          onClick: next_page,\n          children: \"Next page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-button\",\n          onClick: search,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"show-count\",\n        children: [\"matching records: \", data && data.count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [data && display_records(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"extract-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"extract-button\",\n          onClick: extract_to_json,\n          children: \"Extract to json\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"extract-button\",\n          onClick: extract_to_csv,\n          children: \"Extract to csv\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CSVLink, {\n          data: csvData,\n          children: \"Download me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 17\n        }, this), \";\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 9\n  }, this);\n}\n_s(Database, \"RR4BDRQTtJeiTS5QuzDG+vU4SCs=\");\n_c = Database;\nvar _c;\n$RefreshReg$(_c, \"Database\");","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","Server","labels","RecordTile","type","CSVLink","jsxDEV","_jsxDEV","Database","_s","startDate","setStartDate","endDate","setEndDate","minNumber","setMinNumber","maxNumber","setMaxNumber","minLength","setMinLength","maxLength","setMaxLength","language","setLanguage","correction","setCorrection","comment","setComment","words","setWords","query","setQuery","data","setData","server","checked","setChecked","date","number","length","page","setPage","recordCount","setRecordCount","filter","setFilter","records_per_page","fetchData","response","post","params","limit","count","error","search","console","log","f","regex","result","match","map","x","slice","previous_page","next_page","handleCheckbox","e","ch","target","id","entries","Object","keys","key","fromEntries","boxes","document","getElementsByClassName","box","getElementById","extract_to_json","jsonString","encodeURIComponent","JSON","stringify","link","createElement","href","download","click","extract_to_csv","file","Blob","text","URL","createObjectURL","display_records","children","$date","references","results","hasCorrection","opinion","hasComment","_id","$oid","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","value","style","width","min","name","maxWidth","float","marginLeft","height","onClick","csvData","_c","$RefreshReg$"],"sources":["/home/emil/github/projektDyplomowy/projekt_kopia/frontend/text-analizer/src/pages/Database.js"],"sourcesContent":["import React, {useEffect,useState, useContext} from 'react';\nimport axios from 'axios';\nimport { Server } from '../index';\nimport '../css/database.css';\nimport labels from '../labels.json' ;\nimport RecordTile from '../components/RecordTile';\nimport { type } from '@testing-library/user-event/dist/type';\nimport { CSVLink } from \"react-csv\";\n\nexport default function Database(){\n\n    const [startDate,setStartDate] = useState(\"\")\n    const [endDate,setEndDate] = useState(\"\")\n\n    const [minNumber,setMinNumber] = useState(\"\")\n    const [maxNumber,setMaxNumber] = useState(\"\")\n\n    const [minLength,setMinLength] = useState(\"\")\n    const [maxLength,setMaxLength] = useState(\"\")\n\n    const [language,setLanguage] = useState(null)\n    const [correction,setCorrection] = useState(null)\n    const [comment,setComment] = useState(null)\n    const [words,setWords] = useState(\"\")\n    const [query,setQuery] = useState(\"\")\n\n    const [data,setData] = useState([])\n    const server = useContext(Server)\n\n    const [checked,setChecked] = useState({\n        date:false,\n        number:false,\n        length:false,\n        language: false,\n        correction: false,\n        comment: false,\n        words: false,\n        query:false,\n        })\n    const [page,setPage]=useState(0)\n    const [recordCount,setRecordCount]=useState(0)\n    const [filter,setFilter]=useState({})\n    const records_per_page = 10\n\n    useEffect(()=>{\n        const fetchData = async ()=>{\n            try {\n                const response = await axios.post(server+'database-filter',{params:{page:0,filter:{},limit:records_per_page}})\n                setData(response.data)   \n                setRecordCount(response.data.count) \n                \n            }\n            catch(error){\n\n            }\n        };\n        fetchData()\n    },[])\n\n\n    async function search(){\n        setPage(0)\n   \n        if(checked.query){\n            try {\n                const response = await axios.post(server+'database-query',{params:{page:0,query:query,limit:records_per_page}})\n                setData(response.data) \n                setRecordCount(response.data.count)            \n            }\n            catch(error){\n                console.log(error)\n            }\n        }\n        else{\n            const f = {}\n            if(checked.date) {\n                f.startDate = startDate\n                f.endDate = endDate\n            }\n            if(checked.number) {\n                f.minNumber = minNumber\n                f.maxNumber = maxNumber\n            }\n            if(checked.length){\n                f.minLength = minLength\n                f.maxLength = maxLength\n            }\n            if(checked.language){\n                f.language = language\n            }\n            if(checked.correction){\n                f.correction = correction         \n            }\n            if(checked.comment){\n                f.comment = comment\n            }\n            if(checked.words){\n                if (words!=\"\"){\n                    const regex = /\"[^\"]*\"|[^\",;\\s]+/g;\n                    const result = words.match(regex)\n                    f.words = result.map(x=>x[0]==='\"'?x.slice(1,x.length-1):x)\n                }\n            }\n            setFilter(f)\n       \n            try {\n                const response = await axios.post(server+'database-filter',{params:{page:0,filter:f,limit:records_per_page}})\n                setData(response.data) \n                setRecordCount(response.data.count)            \n            }\n            catch(error){\n                console.log(error)\n            }       \n        }\n        \n    }\n\n    async function previous_page(){\n        \n        if(page!==0){\n            \n            \n            try {\n               \n                if (checked.query){\n                    const response = await axios.post(server+\"database-query\",{params:{page:page-1,query:query,limit:records_per_page}})\n                    setData(response.data)   \n                }\n                else{\n                    const response = await axios.post(server+\"database-filter\",{params:{page:page-1,filter:filter,limit:records_per_page}})\n                    setData(response.data)   \n                }\n                \n                          \n            }\n            catch(error){\n                console.log(error)\n            }\n            setPage(page-1)\n        }\n    }\n    async function next_page(){\n        \n        if(recordCount>records_per_page*(page+1)){\n            try {\n              \n                if (checked.query){\n                    const response = await axios.post(server+\"database-query\",{params:{page:page+1,query:query,limit:records_per_page}})\n                    setData(response.data)  \n                }\n                else{\n                    const response = await axios.post(server+\"database-filter\",{params:{page:page+1,filter:filter,limit:records_per_page}})\n                    setData(response.data)  \n                }\n                \n                           \n            }\n            catch(error){\n                console.log(error)\n            }\n        \n            setPage(page+1)\n        }\n    }\n\n    function handleCheckbox(e){\n        let ch = checked   \n        console.log(e.target.id )   \n        if(e.target.id == 'query' && ch['query']==false){\n            console.log(\"here1\")\n            const entries = Object.keys(ch).map((key)=>[key, false])\n            ch = Object.fromEntries(entries)\n            ch['query'] = true\n\n            const boxes  = document.getElementsByClassName('checkbox')\n            for (let box of boxes){\n                box.checked = false\n            }\n            \n        }\n        else if (e.target.id != 'query' && ch['query']==true ){\n            console.log(\"here2\")\n            ch['query'] = false\n            ch[e.target.id] = e.target.checked   \n            document.getElementById('query').checked = false  \n        }\n        else{\n            ch[e.target.id] = e.target.checked\n        \n        }\n\n        setChecked(ch)\n\n        \n        \n        \n    \n    }\n    async function extract_to_json(){\n        try {\n              \n            const jsonString = `data:text/json;chatset=utf-8,${encodeURIComponent(\n                JSON.stringify(data.data)\n              )}`;\n\n            const link = document.createElement(\"a\");\n            link.href = jsonString;\n            link.download = \"data.json\";\n\n            link.click();\n            \n                       \n        }\n        catch(error){\n            console.log(error)\n        }\n        }\n\n    async function extract_to_csv(){\n\n        try {\n              \n            let response=\"\"\n            if (checked.query){\n                response = await axios.post(server+\"extract-csv\",{params:{page:page+1,query:query,limit:records_per_page}})\n                  \n            }\n            else{\n                response = await axios.post(server+\"extract-csv\",{params:{page:page+1,filter:filter,limit:records_per_page}})\n                 \n            }\n\n\n            const file = new Blob([response.data], {type: 'text/plain'});\n            console.log(file.text())\n            const link = document.createElement(\"a\");\n            link.href = URL.createObjectURL(file)\n            link.download = \"data.csv\";\n\n            //link.click();\n\n\n           \n            \n                       \n        }\n        catch(error){\n            console.log(error)\n        }\n\n    }\n    function display_records(){\n        if(data.data){    \n        \n\n            return(\n                <div>\n                    {data.data.map((x)=><RecordTile key={x._id.$oid} date={x.date.$date} number={x.references.length}\n                    length={x.references[0].text.length} language={x.references[0].results.language[0][0]} \n                    hasCorrection={x.opinion!=\"\"?'true':'false'} hasComment={x.opinion!=\"\"?'true':'false'}/>)}              \n                </div>\n            )}\n    }\n    return(\n        <div>\n            <div className='search-bar'>\n                \n                <div className='filter-option'>\n                    <input type='checkbox' id='date' onChange={handleCheckbox} className='checkbox'></input><b>Date: </b>\n                    <div className='filter-inputs'>\n                        <span>from:</span>\n                        <input type='date' id=\"from-date\" value={startDate} onChange={(e)=>{setStartDate(e.target.value)}}></input>\n                        <br/>\n                        <span>to:</span>\n                        <input type='date' id=\"to-date\" value={endDate} onChange={(e)=>{setEndDate(e.target.value)}}></input>\n                        \n                    </div>\n                </div>\n\n                <div className='filter-option'>\n                    <input type='checkbox' id='number' onChange={handleCheckbox} className='checkbox'></input><b>Num/record: </b>\n                    <div className='filter-inputs'>\n                        <span>from:</span>\n                        <input type='number' id=\"min-number\" style={{width: '6vw'}} min={1}\n                        value={minNumber} onChange={(e)=>{setMinNumber(e.target.value)}}></input>\n                        <br/>\n                        <span>to:</span>\n                        <input type='number' id=\"max-number\" style={{width: '6vw'}} min={1}\n                        value={maxNumber} onChange={(e)=>{setMaxNumber(e.target.value)}}></input>\n                        \n                    </div>\n                </div>\n\n                <div className='filter-option'>\n                    <input type='checkbox' id='length' onChange={handleCheckbox} className='checkbox'></input><b>Length: </b>\n                    <div className='filter-inputs'>\n                        <span>from:</span>\n                        <input type='number' id=\"min-length\" style={{width: '6vw'}} min={1}\n                        value={minLength} onChange={(e)=>{setMinLength(e.target.value)}}></input>\n                        <br/>\n                        <span>to:</span>\n                        <input type='number' id=\"max-length\" style={{width: '6vw'}} min={1}\n                        value={maxLength} onChange={(e)=>{setMaxLength(e.target.value)}}></input>\n                        \n                    </div>\n                </div>\n\n                <div className='filter-option'>\n                    <input type='checkbox' id='language' onChange={handleCheckbox} className='checkbox'></input><b>Language: </b>\n                    <div className='filter-inputs'>\n                        <br/>\n                        <select id=\"select-language\" onChange={(e)=>setLanguage(e.target.value)}>\n                            {labels.language.map((x)=>\n                                <option key={x} value={x}>\n                                    {x}\n                                </option>\n                    )}\n                        </select>                       \n                    </div>\n                </div>\n\n                <div className='filter-option'>\n                    <input type='checkbox' id='correction' onChange={handleCheckbox}  className='checkbox'></input><b>Correction: </b>\n                    <div className='filter-inputs'>                        \n                        <span>has correnction</span> \n                        <input type='radio' id=\"correction-provided\" name=\"correction\" \n                        onChange={(e)=>setCorrection(1)}></input>   \n                        <br/>\n                        <span>no correnction</span> \n                        <input type='radio' id=\"correction-not-provided\" name=\"correction\"\n                        onChange={(e)=>setCorrection(0)}></input>                                                                  \n                    </div>\n                </div>\n\n                <div className='filter-option'>\n                    <input type='checkbox' id='comment' onChange={handleCheckbox} className='checkbox'></input><b>Comment: </b>\n                    <div className='filter-inputs'>\n                        <span>has comment</span> \n                        <input type='radio' id=\"comment-provided\" name=\"comment\" onChange={(e)=>setComment(1)}></input>   \n                        <br/>\n                        <span>no comment</span> \n                        <input type='radio' id=\"comment-not-provided\" name=\"comment\" onChange={(e)=>setComment(0)} ></input>                                                        \n                    </div>\n                </div>\n\n                <div className='filter-option'>\n                    <input type='checkbox' id='words'onChange={handleCheckbox} className='checkbox'></input><b>Key Words: </b>\n                    <div className='filter-inputs'>\n                        <br/>\n                        <input type='text' style={{ maxWidth:'12vw'}} onChange={(e)=>setWords(e.target.value)}/>\n                        \n                    </div>\n                </div>\n                <div className='clearfix'></div>\n                <div className='custom-query'>\n                    <input type='checkbox' id='query' onChange={handleCheckbox}   style={{float:'left'}}></input><b style={{float:'left'}}>Query: </b>\n                    <textarea value={query} onChange={(e)=>setQuery(e.target.value)}></textarea>\n                    \n\n                </div>\n                <div className='clearfix'></div>\n                <div style={{marginLeft:'30vw', height:'8vh'}}>\n                    <button className='page-button' onClick={previous_page}>Previous page</button>     \n                    <button className='page-button' onClick={next_page}>Next page</button>     \n                    <button className='search-button' onClick={search}>Search</button>      \n                              \n                </div>\n\n                <div className='clearfix'></div>\n                \n                <div className='show-count'>\n                    matching records: {data&&data.count}\n                </div>\n             </div>\n             <div className='content'>\n                {data&&display_records()}\n                <div className='clearfix'></div>\n                <div className='extract-panel'>\n                <button className='extract-button' onClick={extract_to_json}>Extract to json</button> \n                <button className='extract-button' onClick={extract_to_csv}>Extract to csv</button> \n                <CSVLink data={csvData}>Download me</CSVLink>;\n                </div>\n             </div>\n             \n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}